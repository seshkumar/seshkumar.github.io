var ColorTools={hex2Rgb:function(a){var b;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(a)?(b=a.substring(1).split(""),3==b.length&&(b=[b[0],b[0],b[1],b[1],b[2],b[2]]),b="0x"+b.join(""),[b>>16&255,b>>8&255,255&b].join(",")):void 0},rgb2Hex:function(a){function b(a){return("0"+parseInt(a).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(a)?a:(a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),b(a[1])+b(a[2])+b(a[3]))}};$(function(){window.onload=Loader.hideLoader(),$(document).ajaxStart(function(){$(".loader").fadeTo(0,.5)}),$(document).ajaxStop(function(){$(".loader").fadeOut(500)})});var Loader={hideLoader:function(){window.jQuery?$(".loader").fadeOut(500):Tools.hideLoader()}};$(function(){$(document).tooltip()}),$(function(){$(document).ajaxError(function(a,b,c,d){alert("AJAX error:"+d)}),Tools.setScreenOrientation(),$(window).resize(Tools.setScreenOrientation)});var Tools={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},escapeHtml:function(a){return String(a).replace(/[&<>"'`=\/]/g,function(a){return Tools.entityMap[a]})},getRotationDegrees:function(a){var b=a.css("-webkit-transform")||a.css("-moz-transform")||a.css("-ms-transform")||a.css("-o-transform")||a.css("transform");if("none"!==b)var c=b.split("(")[1].split(")")[0].split(","),d=c[0],e=c[1],f=Math.round(Math.atan2(e,d)*(180/Math.PI));else var f=0;return 0>f?f+360:f},isCP:function(){var a=!1;return $("#cpBookSection").length>0&&(a=!0),a},isDesignsPage:function(){var a=!1;return"designs"==$(location).attr("pathname").split("/")[1]&&(a=!0),a},isInfoPage:function(){var a=!1;return"info"==$(location).attr("pathname").split("/")[1]&&(a=!0),a},isInt:function(a){return Math.floor(a)==a&&$.isNumeric(a)?!0:!1},isPersonalDomain:function(){var a=!0;return(-1!=$(location).attr("hostname").indexOf(".wedsite.com")||-1!=$(location).attr("hostname").indexOf("localhost1"))&&(a=!1),a},isSamplePage:function(){var a=!1;return"sample"==$(location).attr("pathname").split("/")[1]&&(a=!0),a},isWedsiteCom:function(){var a=!1;return $("#sampleSection").length>0&&(a=!0),a},randIntBetween:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},setScreenOrientation:function(){var a=screenOrientation;screenOrientation=$(document).width()<$(document).height()?"p":"l",screenOrientation!=a&&Page.setPagesForScreenOrientation()}};!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===Ea||f.eventType===Ga)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");var screenOrientation="l",cpBeingDisplayed=!1,sampleBeingDisplayed=!1,sampleLoaded=!1,assetsPath=1===isKeepsakeVersion?"assets/":"https://s3.amazonaws.com/assetswedsitecom/",samplePath="https://s3.amazonaws.com/samplewedsitecom/",uploadsPath=1===isKeepsakeVersion?"uploads/":"https://s3.amazonaws.com/uploadswedsitecom/",sizeX10=1e3,sizeX14=1.4*sizeX10,sizeX13=1.3*sizeX10,sizeX12=1.2*sizeX10,sizeX11=1.1*sizeX10,sizeX9=.9*sizeX10,sizeX8=.8*sizeX10,sizeX7=.7*sizeX10,sizeX6=.6*sizeX10,sizeX5=.5*sizeX10,sizeY10=550,sizeY14=1.4*sizeY10,sizeY13=1.3*sizeY10,sizeY12=1.2*sizeY10,sizeY11=1.1*sizeY10,sizeY9=.9*sizeY10,sizeY8=.8*sizeY10,sizeY7=.7*sizeY10,sizeY6=.6*sizeY10,sizeY5=.5*sizeY10,zoomX=sizeX8,zoomY=sizeY6;$(function(){BackgroundPhotos.setBackgroundPhotos(),$(window).resize(BackgroundPhotos.positionBackgroundPhotos)});var BackgroundPhotos={previousMouseX:0,previousMouseY:0,positionBackgroundPhotos:function(){if($("#backgroundPhotos").length)for(var a=1;a<=$("#backgroundPhotos").attr("data-actualphotocount");a++)if($("#backgroundPhotoCanvas"+a).length){var b=Math.round($(window).width()*$("#backgroundPhotoCanvas"+a).attr("data-xya").split(",")[0]/1023-$("#backgroundPhotoCanvas"+a)[0].getBoundingClientRect().width/2)+"px",c=Math.round($(window).height()*$("#backgroundPhotoCanvas"+a).attr("data-xya").split(",")[1]/605-$("#backgroundPhotoCanvas"+a)[0].getBoundingClientRect().height/2)+"px",d="rotate("+$("#backgroundPhotoCanvas"+a).attr("data-xya").split(",")[2]+"deg)";$("#backgroundPhotoCanvas"+a).css({left:b,top:c,transform:d});var e,f,g=$("#backgroundPhotoCanvas1").width()/2*-1,h=$("#backgroundPhotoCanvas1").height()/2*-1,i=$(document).width()-$("#backgroundPhotoCanvas1").width()/2,j=$(document).height()-$("#backgroundPhotoCanvas1").height()/2;$("#backgroundPhotoCanvas"+a).draggable({containment:[g,h,i,j],start:function(a,b){var c=parseInt($(this).css("left"),10);c=isNaN(c)?0:c;var d=parseInt($(this).css("top"),10);d=isNaN(d)?0:d,e=c-b.position.left,f=d-b.position.top,BackgroundPhotos.previousMouseX=a.pageX,BackgroundPhotos.previousMouseY=a.pageY},stop:function(){Tools.isCP()&&BackgroundPhotosCP.setBackgroundLayoutSaveOption()},drag:function(a,b){b.position.left+=e,b.position.top+=f;var c=$(a.target)[0].getBoundingClientRect().left+$(a.target)[0].getBoundingClientRect().width/2,d=$(a.target)[0].getBoundingClientRect().top+$(a.target)[0].getBoundingClientRect().height/2,g=a.pageX,h=a.pageY,i=Math.sqrt(Math.pow(c-g,2)+Math.pow(d-h,2)),j=g-BackgroundPhotos.previousMouseX,k=h-BackgroundPhotos.previousMouseY,l=j-k,m=j+k,n=0;c>g&&d>h?0>l?n=-1:l>0&&(n=1):g>c&&d>h?0>m?n=-1:m>0&&(n=1):g>c&&h>d?0>l?n=1:l>0&&(n=-1):c>g&&h>d&&(0>m?n=1:m>0&&(n=-1));var o="+="+n*(i/60);$(a.target).velocity({rotateZ:o},{duration:0}),BackgroundPhotos.previousMouseX=a.pageX,BackgroundPhotos.previousMouseY=a.pageY}})}},setBackgroundPhotos:function(){$("#backgroundPhotos").empty();var a="photoAlbum"+$("#backgroundPhotos").attr("data-photoalbum");if("photoAlbum0"!=a&&window[a]){for(var b=[],c=0;c<window[a].length;c++)"undefined"!=typeof window[a][c].photo&&null!==window[a][c].photo&&b.push(window[a][c]);$("#backgroundPhotos").attr("data-actualphotocount",$("#backgroundPhotos").attr("data-photocount")),$("#backgroundPhotos").attr("data-photocount")>b.length&&$("#backgroundPhotos").attr("data-actualphotocount",b.length);var d=0;b.length>$("#backgroundPhotos").attr("data-photocount")&&0==$("#backgroundPhotos").attr("data-fixedlayout")&&(d=Math.floor(Math.random()*(b.length-$("#backgroundPhotos").attr("data-photocount"))));for(var e=$("#backgroundPhotos").attr("data-xya").split("/"),f="",g="",c=$("#backgroundPhotos").attr("data-actualphotocount");c>0;c--){if("286,77,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0/10,10,0"==$("#backgroundPhotos").attr("data-xya")){var h=0;h=5>c?c%2==0?Tools.randIntBetween(110,196):Tools.randIntBetween(827,913):Tools.randIntBetween(110,913),e[c]=h+","+Tools.randIntBetween(110,495)+","+Tools.randIntBetween(-20,20)}else $("#backgroundPhotos").attr("data-xya").split("/")[c]?e[c]=$("#backgroundPhotos").attr("data-xya").split("/")[c]:(e[c]=Tools.randIntBetween(110,913),0/0+Tools.randIntBetween(110,495)+","+Tools.randIntBetween(-20,20));g=$("<style>#backgroundPhoto"+c+' {background-image: url("'+uploadsPath+$("body").attr("data-wedding")+"/images640/"+b[c-1+d].file+'");}</style>'),f=$('<div id="backgroundPhotoCanvas'+c+'" class="backgroundPhotoCanvas" data-xya="'+e[c]+'"><div id="backgroundPhoto'+c+'" class="backgroundPhoto"></div></div>'),$("#backgroundPhotos").append(g),$("#backgroundPhotos").append(f)}BackgroundPhotos.positionBackgroundPhotos()}}},countdownUpdateTimer=null;$(function(){$("#countdownTime").click(Countdown.toggleCountdown),Countdown.startCountdown()});var Countdown={displayCountdown:function(){$("#countdown").addClass("countdownExpanded"),$("#bottomTools").addClass("countdownExpanded"),clearTimeout(window.displayCountdownTimer),window.displayCountdownTimer=setTimeout(Countdown.hideCountdown,4e3)},hideCountdown:function(){clearTimeout(window.displayCountdownTimer),$("#countdown").removeClass("countdownExpanded"),$("#bottomTools").removeClass("countdownExpanded")},startCountdown:function(){Countdown.stopCountdown(),$("#countdown").length>0&&(countdownUpdateTimer=setInterval(function(){Countdown.updateCountdown()},1e3))},stopCountdown:function(){clearInterval(countdownUpdateTimer)},toggleCountdown:function(){$("#countdown").hasClass("countdownExpanded")?Countdown.hideCountdown():Countdown.displayCountdown()},once:0,updateCountdown:function(){var a=$("#weddingTime").text(),b=Math.round((new Date).getTime()/1e3);if(isNaN(a.valueOf()))$("#countdown").hasClass("displayNone")||($("#countdown").addClass("displayNone"),Countdown.stopCountdown());else{var c=0;b>a?(c=b-a,$("#preWedCountdownText").css("visibility","hidden"),$("#postWedCountdownText").css("visibility","visible")):(c=a-b,$("#preWedCountdownText").css("visibility","visible"),$("#postWedCountdownText").css("visibility","hidden"));var d=Math.floor(c/86400).toString(),e=Math.floor(c/3600-24*d).toString();1==e.length&&(e="0"+e);var f=Math.floor(c/60-60*d*24-60*e).toString();1==f.length&&(f="0"+f);var g=Math.floor(c-60*d*60*24-60*e*60-60*f).toString();1==g.length&&(g="0"+g),$("#countdownTime").text(d+":"+e+":"+f+":"+g)}}};$(function(){$(window).resize(function(){Froala.handleFontSizeInSmallScreens($(".froalaEditor"))})});var Froala={launchFroalaEditor:function(a){$(a).froalaEditor({key:"FE3C2E2B1A16A7wB1B1B1F1E1E4H3B2B10D9jXd1TEWUa1c2QSDe1HAb2==",charCounterCount:!1,colorsBackground:["#"+ColorTools.rgb2Hex($(".weddingColorContent").css("color")),"#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","REMOVE"],colorsText:["#"+ColorTools.rgb2Hex($(".weddingColorContent").css("color")),"#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","REMOVE"],disableRightClick:!0,fontSize:["8","9","10","11","12","14","16","18","20","24","28","32","36"],fontSizeUnit:"rem",heightMax:"16rem",heightMin:"10rem",htmlAllowComments:!1,htmlAllowedAttrs:["href","rel","style","target"],htmlAllowedEmptyTags:["br","p"],htmlAllowedStyleProps:["background-color","color","text-align"],htmlAllowedTags:["a","br","p","span","strong"],htmlExecuteScripts:!1,linkAlwaysBlank:!0,linkEditButtons:["linkOpen","linkEdit","linkRemove"],placeholderText:"Type your text here...",pluginsEnabled:["align","colors","entities"],shortcutsEnabled:["bold","underline","undo","redo"],tabSpaces:3,theme:"gray",toolbarButtons:["align","bold","color","underline","clearFormatting","undo","redo"],toolbarButtonsMD:["align","bold","color","underline","clearFormatting","undo","redo"],toolbarButtonsSM:["align","bold","color","underline","clearFormatting","undo","redo"],toolbarButtonsXS:["align","bold","color","underline","clearFormatting"],width:"48rem",wordAllowedStyleProps:["background-color","color","text-align"]}),Froala.handleFontSizeInSmallScreens($(a))},handleFontSizeForSave:function(a){var b=$(a).froalaEditor("html.get",!0),c=$("<div>").append($(b).clone());return 1==$(a).attr("data-zoomed")&&$(c).find("span").each(function(){if(null!=$(this).css("font-size")&&""!=$(this).css("font-size")){if($(this).css("font-size").indexOf("rem")>=0){var a=$(this).css("font-size").replace("rem","");a=a/2+"rem"}else var a="1.2rem";$(this).css({"font-size":a})}}),$(c).html()},handleFontSizeInSmallScreens:function(a){if("undefined"!=typeof froalaEditor&&$.isFunction(froalaEditor)){var b=$(a).froalaEditor("html.get",!0),c=$("<div>").append($(b).clone());($(window).width()<zoomX||$(window).height()<zoomY)&&0==$(a).attr("data-zoomed")?($(c).find("span").each(function(){
if(null!=$(this).css("font-size")&&""!=$(this).css("font-size")){if($(this).css("font-size").indexOf("rem")>=0){var a=$(this).css("font-size").replace("rem","");a=2*a+"rem"}else var a="2.4rem";$(this).css({"font-size":a})}}),$(a).froalaEditor("html.set",$(c).html()),$(a).attr("data-zoomed","1")):$(window).width()>=zoomX&&$(window).height()>=zoomY&&1==$(a).attr("data-zoomed")&&($(c).find("span").each(function(){if(null!=$(this).css("font-size")&&""!=$(this).css("font-size")){if($(this).css("font-size").indexOf("rem")>=0){var a=$(this).css("font-size").replace("rem","");a=a/2+"rem"}else var a="1.2rem";$(this).css({"font-size":a})}}),$(a).froalaEditor("html.set",$(c).html()),$(a).attr("data-zoomed","0"))}}};$(function(){$("#guestBookFormDiv").click(GuestBook.goToCreate)});var GuestBook={goToCreate:function(a){var b=($(a.target).closest(".pageSection"),$("<div>")),c=$('<label>Name:</label><input type="text" name="title" maxlength="60" />');$(b).append(c);var d=$('<label>Email:</label><input type="text" name="email" maxlength="60" />');$(b).append(d);var e=$("<label>Note:</label>");$(b).append(e);var f=$('<textarea class="froalaEditor" data-zoomed="0" name="text"></textarea>');$(b).append(f);var g=$("<div>"),h=$('<button class="rectangleButton"><i class="icon fa fa-share"></i> submit</button>');$(h).click(GuestBook.submitGuestNote),$(g).append(h),Overlay.createOverlay("GUEST NOTE",b,g,"bookOverlay"),Froala.launchFroalaEditor(f)},submitGuestNote:function(a){var b=$(a.target).closest(".window"),c=Froala.handleFontSizeForSave($(b).find('textarea[name="text"]'));$.post("/forms/submitGuestNote.php",{wedding:$("body").attr("data-wedding"),name:$(b).find('input[name="title"]').val(),email:$(b).find('input[name="email"]').val(),text:c},function(a){if(Tools.isInt(a)){var d=$('<div class="pageSection guestBookSection'+(Tools.isCP()?" weddingColorBorderHover":"")+'"'+(Tools.isCP()?' data-guestnoteid="'+a+'" data-active="1" title="click to edit or delete entry"':"")+">"+(Tools.isCP()?'<i class="hiddenSectionIcon fa fa-eye-slash" title="inactive guest note (will not be displayed on wedsite)"></i>':"")+'<h4 class="pageSectionTitle">'+$(b).find('input[name="title"]').val()+'</h4><h4 class="pageSectionSubTitle weddingColorContent">'+$.datepicker.formatDate("DD, MM d, yy",new Date)+'</h4><div class="pageSectionText">'+c+"</div></div>");$(".pageTypeGuestBook").find(".pageContent").prepend(d),$(d).show(),$(".pageTypeGuestBook").find(".pageContent").scrollTop(0),$("#bookOverlay").remove()}else Overlay.createErrorWindow(a)}),a.preventDefault()}};$(function(){$(".rsvpButton").click(function(a){Guests.goToFindGuest($(a.target).attr("data-event")),a.stopPropagation()}),$("#correspondenceRSVPButton").click(Guests.goToGuestFromCorrespondence)});var Guests={rsvpOriginalTotalGroup:1,addGroupMember:function(){var a=$(event.target).closest(".window"),b=$(a).find(".rsvpTabGroup").find("label").length+1;if($(a).find(".rsvpTotalGroup").text(b),b>=1&&9>=b){var c=$(a).find(".rsvpTabGroup").find("label:first").clone();$(c).text(b),$(c).click(function(){Guests.changeRSVPTab(b-1)}),$(a).find(".rsvpTabGroup").append(c);var d=$(a).find(".rsvpGuestDiv:first").clone();$(d).find("input:text").val(""),$(d).find("input:first").val(0),$(d).find("input:radio").attr("checked",!1),$(d).find("textarea").text(""),$(d).find("input,textarea").each(function(){$(this).attr("name",$(this).attr("name").replace(/\d+/g,"")+b)}),$(d).find("select").each(function(){$(this).attr("name","rsvpSelection"+b+"Group"+$(this).attr("name").split("Group").pop())}),$(a).find("form").append(d),Guests.changeRSVPTab(b-1)}},changeRSVPTab:function(a){var b=$(".overlay").find(".window"),c=b.find(".rsvpTabGroup").find("label:eq("+a+")");$(b).find(".rsvpTabActive").removeClass(),$(c).attr("class","rsvpTabActive"),$(b).find(".rsvpGuestDiv").hide(),$(b).find(".rsvpGuestDiv:eq("+a+")").show();var d=$(b).find(".rsvpTabGroup").find("label").length,e=$(b).find("button:contains('back')"),f=$(b).find("button:contains('next')"),g=$(b).find("button:contains('save')"),h=$(b).find("button:contains('submit')");a+1==d?($(f).hide(),$(g).show(),$(h).show()):($(g).hide(),$(h).hide(),$(f).show()),a+1>1&&d>1?$(e).show():$(e).hide(),d>=9&&$(b).find("i.fa-plus").hide(),d>1&&(Tools.isCP()||d>Guests.rsvpOriginalTotalGroup)?$(b).find("i.fa-minus").show():$(b).find("i.fa-minus").hide()},goToFindGuest:function(a){Images.stopVideos(),$(".overlay").remove();var b=$('<div data-event="'+a+'">');$(b).load("/forms/findGuest.php",{wedding:$("body").attr("data-wedding"),event:a},function(){var a=$("<div>"),c=$('<button class="rectangleButton"><i class="icon fa fa-arrow-circle-right"></i> next</button>');$(c).click(Guests.submitFindGuest),$(a).append(c),Overlay.createOverlay("RSVP",b,a)})},goToGuest:function(a,b){var c=$('<div data-event="'+a+'" data-guest="'+b+'">');$(c).load("/forms/viewGuest.php",{wedding:$("body").attr("data-wedding"),guest:b,event:a},function(){$(c).find(".rsvpGuestDiv:not(:first)").hide(),$(c).find(".rsvpTabGroup").find("label").click(function(){Guests.changeRSVPTab($(c).find(".rsvpTabGroup").find("label").index(this))}),Guests.rsvpOriginalTotalGroup=$(c).find(".rsvpTabGroup").find("label").length,$(c).find("i.fa-plus").click(Guests.addGroupMember),$(c).find("i.fa-minus").click(Guests.removeGroupMember);var a=$("<div>"),b=$('<button class="rectangleButton"><i class="icon fa fa-arrow-circle-left"></i> back</button>');$(b).click(function(){Guests.changeRSVPTab($(c).find(".rsvpTabGroup").find("label").index($(c).find(".rsvpTabActive"))-1)}),$(a).append(b);var d=$('<button class="rectangleButton"><i class="icon fa fa-arrow-circle-right"></i> next</button>');$(d).click(function(){Guests.changeRSVPTab($(c).find(".rsvpTabGroup").find("label").index($(c).find(".rsvpTabActive"))+1)}),$(a).append(d);var e=$('<button class="rectangleButton"><i class="icon fa fa-save"></i> submit</button>');$(e).click(Guests.submitEditGuest),$(a).append(e),$(".overlay").remove(),Overlay.createOverlay("RSVP",c,a),Guests.changeRSVPTab(0)})},goToGuestFromCorrespondence:function(){$("body").attr("data-guest")>0?(Guests.goToGuest($("body").attr("data-event"),$("body").attr("data-guest")),event.stopPropagation()):(Overlay.createErrorWindow("The RSVP option will be displayed on your actual correspondence, but it is not available on preview mode.","PREVIEW MODE"),event.stopPropagation())},removeGroupMember:function(){var a=$(event.target).closest(".window"),b=$(a).find(".rsvpTabGroup").find("label").length-1;$(a).find(".rsvpTotalGroup").text(b),b>=1&&9>=b&&($(a).find(".rsvpTabGroup").find("label:last").remove(),$(a).find(".rsvpGuestDiv:last").remove(),Guests.changeRSVPTab(b-1))},submitEditGuest:function(){var a=$(event.target).closest(".window");$.post("/forms/editGuest.php",$(a).find("form").serialize()+"&wedding="+$("body").attr("data-wedding")+"&event="+$(a).find("[data-event]").attr("data-event")+"&guest="+$(a).find("[data-guest]").attr("data-guest"),function(a){"success"==a?(Tools.isCP()&&"undefined"!=typeof GuestsCP&&null!==GuestsCP&&GuestsCP.listGuests(),$(".overlay").remove(),Overlay.createErrorWindow("Your RSVP has been submitted.","RSVP")):Overlay.createErrorWindow(a)}),event.preventDefault()},submitFindGuest:function(a){var b=$(a.target).closest(".window");$.post("/forms/returnedGuests.php",{wedding:$("body").attr("data-wedding"),findGuest:$(b).find('input[name="findGuest"]').val(),event:$(b).find("[data-event]").attr("data-event")},function(a){if(0==a.indexOf('<div class="rsvpFindGuestSuccess">')){var c=$('<div data-event="'+$(b).find("[data-event]").attr("data-event")+'">');$(c).append(a),$(c).find(".rsvpReturnedGuest").find("button").click(function(a){Guests.goToGuest($(a.target).closest(".window").find("[data-event]").attr("data-event"),$(a.target).attr("data-guest"))});var d=$("<div>");$(d).append($(c).find(".rsvpReturnedGuestOptions").find('button:contains("add RSVP")')),$(d).find('button:contains("add RSVP")').click(function(a){Guests.goToGuest($(a.target).closest(".window").find("[data-event]").attr("data-event"),$(a.target).attr("data-guest"))}),$(d).append($(c).find(".rsvpReturnedGuestOptions").find('button:contains("search again")')),$(d).find('button:contains("search again")').click(function(a){Guests.goToFindGuest($(a.target).closest(".window").find("[data-event]").attr("data-event"))}),$(".overlay").remove(),Overlay.createOverlay("RSVP",c,d)}else Overlay.createErrorWindow(a)}),a.preventDefault()}},HashTag={removeHashTag:function(a){if(window.location.hash){var b=window.location.hash.split("/"),c=!1;$.each(b,function(b,d){(0==d.indexOf(a)||0==d.indexOf("#"+a))&&(c=b)}),c&&(b.length>1?(b.splice(c,1),window.location.hash=b.join("/")):history.replaceState(null,null," "))}},setHashTag:function(a,b){if(b=encodeURI(b.toLowerCase().replace(/\s/g,"")),window.location.hash){var c=window.location.hash.split("/"),d=!1,e=a;0==b.indexOf("error")&&(e=a+"error"),$.each(c,function(a,b){return 0==b.indexOf(e)||0==b.indexOf("#"+e)?(d=a,!1):void 0}),d===!1?window.location.hash+="/"+a+b:(c[d]=a+b,window.location.hash=c.join("/"))}else window.location.hash=a+b},setPageHashTag:function(a){if(a++,window.location.hash){var b=window.location.hash.split("/"),c=!1;$.each(b,function(a,b){return 0==b.indexOf("page")||0==b.indexOf("#page")?(c=a,!1):void 0}),c===!1?window.location.hash+="/page"+a:a>0?(b[c]="page"+a,window.location.hash=b.join("/")):b.length>1?(b.splice(c,1),window.location.hash=b.join("/")):history.replaceState(null,null," ")}else window.location.hash="page"+a}};$(function(){Images.setAllPagePhotos(),$("#galleryDropdown").change(Images.setGallery),$(".mapButton").click(function(a){Images.goToMap(this),a.stopPropagation()}),$(".nextPhotoButton").click(function(){Images.goToPhoto(this)}),$(".pageContent").each(function(){Images.setPagePhotoButtons(this)}),$(".previousPhotoButton").click(function(){Images.goToPhoto(this)})});var Images={previousMouseX:0,goToMap:function(a,b){Images.stopVideos();var b=b||$(a).closest(".page").attr("data-pagenumber"),c=$(".leftPageBase[data-pagenumber='"+b+"']").find(".photo");$(c).attr("data-sectiontitle",$(a).closest(".pageSection").find(".pageSectionTitle").text()),$(c).siblings(".map").css("display","block"),$(c).siblings(".previousPhotoButton").css("display","none"),$(c).siblings(".nextPhotoButton").css("display","none"),$(".photoTextBack").remove();var d=new google.maps.Geocoder,e=$(c).siblings(".map")[0],f=$(a).closest(".pageSection").find(".mapAddress").text()+" "+$(a).closest(".pageSection").find(".mapCity").text();d.geocode({address:f},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=(a[0].geometry.location.toString(),{zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP}),d=new google.maps.Map(e,c);d.setCenter(a[0].geometry.location);var g=new google.maps.Marker({map:d,position:a[0].geometry.location,title:f});google.maps.event.addListener(g,"click",function(){window.open("http://maps.google.com/?q="+f,"_blank")})}else alert("The map requested could not be loaded. Error code: "+b)})},goToPhoto:function(a){var b=$(a).siblings(".photo"),c=$(b).attr("data-currentphoto");"undefined"==typeof c||null==c?c=0:-1!=$(a).attr("class").indexOf("previousPhotoButton")?c--:c++,$(b).attr("data-currentphoto",c),Images.setPhotoOrVideo(b)},goToPhotoAlbum:function(a,b){var b=b||$(a).closest(".page").attr("data-pagenumber"),c=$(a).closest(".pageSection").attr("data-photoalbum"),d=$(".leftPageBase[data-pagenumber='"+b+"']").find(".photo");$(d).attr("data-photoalbum",c),$(d).attr("data-currentphoto",0),$(d).attr("data-sectiontitle",$(a).closest(".pageSection").find(".pageSectionTitle").text()),Images.setPhotoOrVideo(d)},setAllPagePhotos:function(){$(".photo").each(function(){Images.setPagePhotoAlbum(this)})},setGallery:function(){if($(".photoPreviewFrame").remove(),$("#galleryDropdown").length>0){var a=$(".pageTypeGallery.leftPageBase").find(".photo"),b="photoAlbum"+$("#galleryDropdown").val();if($(a).attr("data-photoalbum",$("#galleryDropdown").val()),$(a).attr("data-currentphoto",0),Images.setPhotoOrVideo(a),window[b])for(var c=0;c<window[b].length;c++){var d=$('<div class="photoPreviewFrame">');$(d).click(function(a){return function(){var b=$(".pageTypeGallery.leftPageBase").find(".photo");$(b).attr("data-photoalbum",$("#galleryDropdown").val()),$(b).attr("data-currentphoto",a),Images.setPhotoOrVideo(b)}}(c));var e=$('<div class="photoPreview">'),f=window[b][c];f.photo?$(e).css("background-image","url('"+uploadsPath+$("body").attr("data-wedding")+"/images640/"+f.file+"')"):f.video&&$(e).css("background-image","url('https://i1.ytimg.com/vi/"+f.file+"/default.jpg')"),$(d).append(e),$("#galleryContent").append(d)}}},setPagePhotoAlbum:function(a){var b=$(a).closest("section").attr("class").split(" ")[1];if(-1!=b.indexOf("pageTypeGallery"))Images.setGallery();else if(-1==b.indexOf("pageTypeGallery")&&-1==b.indexOf("pageTypeGuestBook")){if(-1==b.indexOf("pageTypeIndex")){var c=$(a).closest(".page").attr("data-pagenumber");$(".rightPageBase[data-pagenumber="+c+"]").find(".pageSection:first[data-photoalbum]").length>0?($(a).attr("data-photoalbum",$(".rightPageBase[data-pagenumber="+c+"]").find(".pageSection:first").attr("data-photoalbum")),$(a).attr("data-sectiontitle",$(".rightPageBase[data-pagenumber="+c+"]").find(".pageSection:first").find(".pageSectionTitle").text())):$(a).attr("data-photoalbum",0)}Images.setPhotoOrVideo(a)}},setPagePhotoButtons:function(a){$(a).find(".photosButton").remove(),$(a).find(".pageSection").each(function(){if(0!=$(this).attr("data-photoalbum")&&(!$(this).is(":first-child")||$(this).siblings(".pageSection[data-photoalbum]").filter(function(){return $(this).attr("data-photoalbum")>0}).length>0||$(this).parent().children().find(".mapButton").length>0)){var a='<button class="sectionButtonSmall photosButton"><i class="icon fa fa-photo"></i> photos</button>';$(this).parent().children().filter(function(){return $(this).attr("data-photoalbum")>0&&0==$(this).find(".photosButton").length}).find(".pageSectionButtons").append(a)}}),$(".photosButton").click(function(a){Images.goToPhotoAlbum(this),a.stopPropagation()})},setPhotoControls:function(a,b){window[a].length<=1?($(b).siblings(".previousPhotoButton").css("display","none"),$(b).siblings(".nextPhotoButton").css("display","none"),$(".zoomPhoto").length&&($(".zoomContent").find(".previousPhotoButton").css("display","none"),$(".zoomContent").find(".nextPhotoButton").css("display","none"))):($(b).siblings(".previousPhotoButton").css("display","block"),$(b).siblings(".nextPhotoButton").css("display","block"))},setPhotoOrVideo:function(a){$(a).siblings(".map").css("display","none");var b="photoAlbum"+$(a).attr("data-photoalbum");if("photoAlbum0"==b)$(a).closest(".photoFrame").css("display","none");else if(window[b])if(window[b].length){$(a).closest(".photoFrame").css("display","block");var c=$(a).attr("data-currentphoto");("undefined"==typeof c||null==c)&&(c=0),0>c?c=window[b].length-1:c>window[b].length-1&&(c=0);var d=window[b][c];$(a).attr("data-currentphoto",c),$(a).find(".photoTextBack").remove(),d.photo?($(a).find(".video").remove(),$(a).css("background-image","url('"+uploadsPath+$("body").attr("data-wedding")+"/images640/"+d.file+"')")):d.video&&($(a).css("background-image",""),$(a).html('<iframe id="video" class="video" src="https://www.youtube.com/embed/'+d.file+'?enablejsapi=1&rel=0&showinfo=0" frameborder="0" allowfullscreen="true"></iframe>')),""!=d.text&&$(a).append('<div class="photoTextBack"><p class="photoText">'+d.text+"</p></div>"),$(".zoomPhoto").length&&($(".zoomPhotoText").remove(),d.photo?($(".zoomPhoto").find(".zoomVideo").remove(),$(".zoomPhoto").css("background-image","url('"+uploadsPath+$("body").attr("data-wedding")+"/images640/"+d.file+"')")):d.video&&($(".zoomPhoto").css("background-image",""),$(".zoomPhoto").html('<iframe class="zoomVideo" src="https://www.youtube.com/embed/'+d.file+'?enablejsapi=1&rel=0&showinfo=0" frameborder="0" allowfullscreen="true"></iframe>')),""!=d.text&&$(".zoomPhoto").append('<p class="zoomPhotoText">'+d.text+"</p>")),Images.setPhotoControls(b,a)}else $(a).closest(".photoFrame").css("display","none");else $(a).closest(".photoFrame").css("display","none")},stopVideos:function(){$("#video").length&&$("#video")[0].contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}};$(function(){Music.loadMusic(),$("#musicAudio").bind("ended",function(){Music.playNextSong()}),$("#musicAudio").on("timeupdate",function(){Music.setMusicPlayIcon()}),$("#musicBackIcon").click(Music.restartSong),$("#musicIcon").click(Music.toggleMusicPlayer),$("#musicNextIcon").click(Music.playNextSong),$("#musicPlayIcon").click(Music.playMusic)});var Music={currentSong:-1,musicHasPlayed:!1,displayMusicPlayer:function(){$("#musicPlayer").addClass("musicPlayerExpanded"),$("#bottomTools").addClass("musicPlayerExpanded"),clearTimeout(window.displayMusicTimer),window.displayMusicTimer=setTimeout(Music.hideMusicPlayer,4e3)},hideMusicPlayer:function(){clearTimeout(window.displayMusicTimer),$("#musicPlayer").removeClass("musicPlayerExpanded"),$("#bottomTools").removeClass("musicPlayerExpanded")},loadMusic:function(){if("undefined"!=typeof musicPlaylist&&null!=musicPlaylist)if(musicPlaylist.length>0){$("#musicPlayer").show();var a=document.getElementById("musicAudio");Music.currentSong=Music.currentSong+1,musicPlaylist.length<=Music.currentSong&&(Music.currentSong=0);var b=musicPlaylist[Music.currentSong].file;0==b.indexOf("/assets/")?(b=b.replace("/assets/",""),a.src=assetsPath+b):0==b.indexOf("/uploads/")&&(b=b.replace("/uploads/",""),a.src=uploadsPath+b),$("#musicTitle").text(musicPlaylist[Music.currentSong].title+(""!=musicPlaylist[Music.currentSong].artist?" - "+musicPlaylist[Music.currentSong].artist:""))}else $("#musicPlayer").hide()},playMusic:function(){Music.musicHasPlayed=!0,clearTimeout(window.displayMusicTimer),window.displayMusicTimer=setTimeout(Music.hideMusicPlayer,4e3);var a=document.getElementById("musicAudio");a.paused||!a.currentTime?a.play():a.pause()},playNextSong:function(){Music.loadMusic(),Music.playMusic()},restartSong:function(){var a=document.getElementById("musicAudio");a.currentTime=0,Music.playMusic()},setMusicPlayIcon:function(){var a=document.getElementById("musicAudio");a.paused||!a.currentTime?$("#musicPlayIcon").removeClass("fa-pause").addClass("fa-play"):$("#musicPlayIcon").removeClass("fa-play").addClass("fa-pause")},startMusic:function(){"undefined"!=typeof musicPlaylist&&null!=musicPlaylist&&0==Tools.isCP()&&0==Music.musicHasPlayed&&Music.playMusic()},toggleMusicPlayer:function(){$("#musicPlayer").hasClass("musicPlayerExpanded")?Music.hideMusicPlayer():Music.displayMusicPlayer()}},Overlay={createDeleteConfirmWindow:function(a,b,c){var d=$('<div><span class="instructionNormal">Please confirm: Are you sure that you want to delete '+b+'</span><span class="instructionNormal bold">This action cannot be undone.</span></div>'),e=$("<div>"),f=$('<button class="rectangleButton"><i class="icon fa fa-times"></i> cancel</button>');$(f).click(function(){$("#confirmOverlay").remove()}),e.append(f);var g=$('<button class="rectangleButton"><i class="icon fa fa-trash-o"></i> delete</button>');$(g).click(function(a){c(a)}),e.append(g),Overlay.createOverlay(a,d,e,"confirmOverlay")},createErrorWindow:function(a,b){b=b||"ERROR";var c=$('<div class="errorWindowContent">'),d=$('<div class="errorMessage">'+a+"</div>");c.append(d);var e=$("<div>"),f=$('<button class="rectangleButton"><i class="icon fa fa-times"></i> close</button>');$(f).click(function(){$("#errorOverlay").remove()}),e.append(f),Overlay.createOverlay(b,c,e,"errorOverlay")},createSessionTimeoutWindow:function(){var a=$('<div class="errorWindowContent">'),b=$('<div class="errorMessage">Your session will expire in <span id="sessionExpirationCounter">60</span> seconds.<br><br>Close this window if you would like to remain logged in.</div>');a.append(b);var c=$("<div>"),d=$('<button class="rectangleButton"><i class="icon fa fa-times"></i> close</button>');$(d).click(function(){$("#sessionTimeoutOverlay").remove()}),c.append(d),Overlay.createOverlay("SESSION TIMEOUT WARNING",a,c,"sessionTimeoutOverlay")},createOverlay:function(a,b,c,d){d=d||"overlay";var e=$('<div id="'+d+'" class="overlay"></div>'),f=$('<div class="window"><h3 class="windowTitle">'+a+"</h3></div>"),g=$('<div class="windowContent"></div>'),h=$('<div class="windowOptions"></div>'),i=$('<button class="roundButton closeWindowButton"><i class="icon fa fa-times"></i></button>');$(i).click(function(){$(e).remove()}),$(f).append(i),$(g).append(b),$(f).append(g),$(h).append(c),$(f).append(h),$(e).append(f),$("body").append(e),HashTag.setHashTag("wndw",a),$(e).on("remove",function(){HashTag.removeHashTag("wndw")}),$("#"+d).find("input, textarea").first().focus(),$("#"+d).find("input").last().focusin(function(){$(this).on("keypress",function(a){$(this).is(":last-child")&&13===a.keyCode&&$(".overlay").length<=1&&($("#"+d).find("button").last().trigger("click"),$(this).off("keypress"))})}),$("#"+d).find("input").last().focusout(function(){$(this).off("keypress")})}};$(function(){Page.setBookToInitialPosition(),Page.setInteraction(),$(window).resize(Page.setBookToInitialPosition),$(".homePageButton").click(function(a){Page.turnToPage(-1),a.stopPropagation()}),$(".indexChapter").click(function(a){var b=$(this).index()-$(this).prevAll("h2").length+1;$(this).is("h2")&&$(this).is(":last-child")&&$(this).prev().is("h2")&&b++,Page.turnToPage(b),a.stopPropagation()}),$(".indexPageButton").click(function(a){Page.turnToPage(0),a.stopPropagation()}),$(".indexPageTitle").click(function(a){var b=$(".indexPageTitleDiv").index($(this).closest(".indexPageTitleDiv"))+1;Page.turnToPage(b),a.stopPropagation()}),$(".pageContent").scroll(function(){var a=this.scrollHeight,b=$(this).height()+$(this).scrollTop();a>$(this).height()&&100>a-b&&Page.hideAndShowSectionOnScroll(Page.currentPage)})});var Page={bookHasBeenOpened:!1,currentPage:-1,pageTurnSpeed:600,listenToTurnToNext:function(a){var b=new Hammer(a);b.get("swipe").set({direction:Hammer.DIRECTION_ALL,threshold:1}),b.on("swipeleft swipeup tap",function(a){Page.turnPageNext(),a.preventDefault()})},listenToTurnToPrevious:function(a){var b=new Hammer(a);b.get("swipe").set({direction:Hammer.DIRECTION_ALL,threshold:5}),b.on("swiperight swipedown tap",function(a){Page.turnPagePrevious(),a.preventDefault()})},closeBook:function(){Screen.blockUI(),Images.stopVideos(),Page.currentPage=-1,$(window).width()>=$(window).height()?($("#bookCoverBase").velocity({rotateY:"-89.99deg",width:"90rem"},{duration:0,display:"block"}),$(".leftPageBase[data-pagenumber='0']").velocity({width:"90rem"},{duration:0}),$(".leftPageBase[data-pagenumber='0']").velocity({rotateY:"90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$(".leftPageBase[data-pagenumber='0']").velocity({width:"45rem"},{duration:0,display:"none"}),$("#bookCoverBase").velocity({rotateY:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$("#book").css("display","none"),$("#bookCoverBase").velocity({left:"+=22.5rem",width:"45rem"},{duration:Page.pageTurnSpeed,easing:"ease",complete:function(){$("#bookCoverBase").removeClass("bookCoverBaseOpen"),$("#bookCover").removeClass("bookCoverOpen"),HashTag.setPageHashTag(-1),Screen.unblockUI()}})}})}})):($("#bookCoverBase").velocity({rotateY:"-89.99deg",width:"90rem"},{duration:0,display:"block"}),$(".leftPageBase[data-pagenumber='0']").velocity({height:"90rem"},{duration:0}),$(".leftPageBase[data-pagenumber='0']").velocity({rotateX:"-90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$(".leftPageBase[data-pagenumber='0']").velocity({height:"45rem"},{duration:0,display:"none"}),$("#bookCoverBase").velocity({rotateY:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$("#book").css("display","none"),$("#bookCoverBase").velocity({left:"+=22.5rem",width:"45rem",rotateZ:"0deg"},{duration:Page.pageTurnSpeed,easing:"ease",complete:function(){$("#bookCoverBase").removeClass("bookCoverBaseOpen"),$("#bookCover").removeClass("bookCoverOpen"),HashTag.setPageHashTag(-1),Screen.unblockUI()}})}})}}),$("#bookCover").velocity({boxShadowY:".7rem"},{duration:Page.pageTurnSpeed,easing:"ease"}))},hideAndShowSectionsOnFlip:function(){$(".rightPageBase[data-pagenumber='"+(Page.currentPage+1)+"']").each(function(){$(this).scrollTop(0),$(this).find(".pageSection").hide(),Page.hideAndShowSectionOnScroll($(this).attr("data-pagenumber"))})},hideAndShowSectionOnScroll:function(a){$(".rightPageBase[data-pagenumber='"+a+"']").find(".pageSection").each(function(){var a=$(this).closest(".pageContent"),b=$(a).height()+$(a).scrollTop();return $(this).show(),b<$(this).position().top-100?($(this).hide(),!1):void 0})},openBook:function(){Screen.blockUI(),Music.startMusic(),Page.bookHasBeenOpened=!0,Page.currentPage=0,$(window).width()>=$(window).height()?$("#bookCoverBase").velocity({left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px",width:"90rem",rotateZ:"0deg"},{duration:Page.pageTurnSpeed,easing:"ease",complete:function(){$("#book").css("display","block"),$(".leftPageBase[data-pagenumber='0']").velocity({rotateX:"0deg",rotateY:"90deg",width:"90rem"},{duration:0,display:"block"}),$("#bookCoverBase").velocity({rotateY:"-90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$("#bookCoverBase").velocity({width:"45rem"},{duration:0,display:"none"}),$("#bookCoverBase").addClass("bookCoverBaseOpen"),$("#bookCover").addClass("bookCoverOpen"),$(".leftPageBase[data-pagenumber='0']").velocity({rotateY:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".leftPageBase[data-pagenumber='0']").velocity({width:"45rem"},{duration:0}),HashTag.setPageHashTag(0),Screen.unblockUI()}})}})}}):($("#bookCoverBase").velocity({left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px",width:"90rem",rotateZ:"90deg"},{duration:Page.pageTurnSpeed,easing:"ease",complete:function(){$("#book").css("display","block"),$(".leftPageBase[data-pagenumber='0']").velocity({rotateX:"-90deg",rotateY:"0deg",height:"90rem"},{duration:0,display:"block"}),$("#bookCoverBase").velocity({rotateY:"-90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$("#bookCoverBase").velocity({width:"45rem"},{duration:0,display:"none"}),$("#bookCoverBase").addClass("bookCoverBaseOpen"),$("#bookCover").addClass("bookCoverOpen"),$(".leftPageBase[data-pagenumber='0']").velocity({rotateX:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".leftPageBase[data-pagenumber='0']").velocity({height:"45rem"},{duration:0}),HashTag.setPageHashTag(0),Screen.unblockUI()}})}})}}),$("#bookCover").velocity({boxShadowY:"-.7rem"},{duration:Page.pageTurnSpeed,easing:"ease"}))},setBookToInitialPosition:function(){if($("#bookCover").length)if($("#bookCover").hasClass("bookCoverOpen"))$(window).width()>=$(window).height()?$("#bookCoverBase").velocity({left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px",width:"90rem",rotateZ:"0deg"},{duration:0}):$("#bookCoverBase").velocity({left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px",width:"90rem",rotateZ:"90deg"},{duration:0});else{var a=$(window).width()*$("#bookCover").attr("data-xya").split(",")[0]/1023+($(window).width()/1023*450-$("#bookCover").width())/2+"px",b=$(window).height()*$("#bookCover").attr("data-xya").split(",")[1]/605+($(window).height()/605*450-$("#bookCover").height())/2+"px",c=Math.floor(10*Math.random())-5+"deg";$("#bookCoverBase").velocity({rotateZ:[c,0],left:[a,0],top:[b,0]},{duration:0})}},setInteraction:function(){$("#bookCover").each(function(){var a=new Hammer(this);a.get("swipe").set({direction:Hammer.DIRECTION_HORIZONTAL}),a.on("swipeleft swiperight tap",function(a){Page.openBook(),a.preventDefault()})}),$(".previousPageButtonGhost, .previousPageButtonGhostPortrait").each(function(){Page.listenToTurnToPrevious(this)}),$(".nextPageButtonGhost, .nextPageButtonGhostPortrait").each(function(){Page.listenToTurnToNext(this)})},setPagesForScreenOrientation:function(){"l"==screenOrientation?($(".bookCoverOpen").velocity({boxShadowY:".7rem"},{duration:0}),$(".bookCoverBaseOpen").velocity({rotateZ:"0deg",left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px"},{duration:0})):"p"==screenOrientation&&($(".bookCoverOpen").velocity({boxShadowY:"-.7rem"},{duration:0}),$(".bookCoverBaseOpen").velocity({rotateZ:"90deg",left:$(window).width()/2-$("#bookCover").width()+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px"},{duration:0})),$("#bookCoverBase:not(.bookCoverBaseOpen)").velocity({left:$(window).width()/2-$("#bookCover").width()/2+"px",top:$(window).height()/2-$("#bookCover").height()/2+"px"},{duration:0})},turnPagePrevious:function(){Screen.blockUI(),Images.stopVideos();var a=Page.currentPage-1;Page.hideAndShowSectionsOnFlip(),Page.currentPage--,0>a?Page.closeBook():$(window).width()>=$(window).height()?($(".rightPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"0deg",rotateY:"-90deg",width:"90rem"},{duration:0,display:"block"}),$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({width:"90rem"},{duration:0}),$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({rotateY:"90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({width:"45rem"},{duration:0,display:"none"}),$(".rightPageBase[data-pagenumber='"+a+"']").velocity({rotateY:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".rightPageBase[data-pagenumber='"+a+"']").velocity({width:"45rem"},{duration:0}),HashTag.setPageHashTag(a),Screen.unblockUI()}})}})):($(".rightPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"90deg",rotateY:"0deg",height:"90rem"},{duration:0,display:"block"}),$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({height:"90rem"},{duration:0}),$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({rotateX:"-90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$(".leftPageBase[data-pagenumber='"+(a+1)+"']").velocity({height:"45rem"},{duration:0,display:"none"}),$(".rightPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".rightPageBase[data-pagenumber='"+a+"']").velocity({height:"45rem"},{duration:0}),HashTag.setPageHashTag(a),Screen.unblockUI()}})}}))},turnPageNext:function(){Screen.blockUI(),Images.stopVideos();var a=Page.currentPage+1;Page.hideAndShowSectionsOnFlip(),Page.currentPage++,a>$("#book section").length?Page.closeBook():$(window).width()>=$(window).height()?($(".leftPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"0deg",rotateY:"90deg",width:"90rem"},{duration:0,display:"block"}),$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({width:"90rem"},{duration:0}),$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({rotateY:"-90deg"},{duration:Page.pageTurnSpeed,easing:"easeInQuad",complete:function(){$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({width:"45rem"},{duration:0,display:"none"}),$(".leftPageBase[data-pagenumber='"+a+"']").velocity({rotateY:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".leftPageBase[data-pagenumber='"+a+"']").velocity({width:"45rem"},{duration:0}),HashTag.setPageHashTag(a),Screen.unblockUI()}})}})):($(".leftPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"-90deg",rotateY:"0deg",height:"90rem"},{duration:0,display:"block"}),$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({height:"90rem"},{duration:0}),$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({rotateX:"90deg"},{duration:Page.pageTurnSpeed,
easing:"easeInQuad",complete:function(){$(".rightPageBase[data-pagenumber='"+(a-1)+"']").velocity({height:"45rem"},{duration:0,display:"none"}),$(".leftPageBase[data-pagenumber='"+a+"']").velocity({rotateX:"0deg"},{duration:Page.pageTurnSpeed,easing:"easeOutQuad",complete:function(){$(".leftPageBase[data-pagenumber='"+a+"']").velocity({height:"45rem"},{duration:0}),HashTag.setPageHashTag(a),Screen.unblockUI()}})}}))},turnToPage:function(a){function b(a){-1*(a-Page.currentPage)<=1&&(Page.pageTurnSpeed=c),a>Page.currentPage?Page.turnPageNext():a<Page.currentPage&&Page.turnPagePrevious(),a!=Page.currentPage&&setTimeout(b,.2*Page.pageTurnSpeed,a)}var c=Page.pageTurnSpeed+0;a!=Page.currentPage&&(Math.abs(a-Page.currentPage)>1&&(Page.pageTurnSpeed=Page.pageTurnSpeed/2),b(a))}};$(function(){$(".pollSubmitButton").click(function(a){Poll.submitPoll($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid"),$(a.target).closest(".pageSection[data-pollid]").find("input[name=poll]:checked").val()),a.stopPropagation()}),$(".pollResultsButton").click(function(a){Poll.submitViewPollResults($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid")),a.stopPropagation()}),$(".pollRadioButton").click(function(a){a.stopPropagation()})});var Poll={submitBackToPoll:function(a){$.post("/forms/poll.php","wedding="+$("body").attr("data-wedding")+"&refresh=1&poll="+a,function(b){if(0==b.indexOf("<section")){var c=$.parseHTML(b);$(".pageSection[data-pollid="+a+"]").replaceWith(c),$(".pageSection[data-pollid="+a+"]").show(),"undefined"!=typeof PollCP&&null!==PollCP&&(SectionCP.setSectionActiveIcon(c),PollCP.stopInputPropagation()),$(".pageSection[data-pollid="+a+"]").find(".pollSubmitButton").click(function(a){Poll.submitPoll($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid"),$(a.target).closest(".pageSection[data-pollid]").find("input[name=poll]:checked").val()),a.stopPropagation()}),$(".pageSection[data-pollid="+a+"]").find(".pollResultsButton").click(function(a){Poll.submitViewPollResults($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid")),a.stopPropagation()}),$(".pageSection[data-pollid="+a+"]").find(".pollRadioButton").click(function(a){a.stopPropagation()}),Images.setPagePhotoButtons($(c).parent())}else Overlay.createErrorWindow(b)}),event.preventDefault()},submitPoll:function(a,b){$.post("/forms/poll.php","wedding="+$("body").attr("data-wedding")+"&poll="+a+"&vote="+b,function(b){if(0==b.indexOf("<section")){var c=$.parseHTML(b);$(".pageSection[data-pollid="+a+"]").replaceWith(c),$(".pageSection[data-pollid="+a+"]").show(),"undefined"!=typeof PollCP&&null!==PollCP&&(SectionCP.setSectionActiveIcon(c),PollCP.stopInputPropagation()),$(".pageSection[data-pollid="+a+"]").find(".pollBackButton").click(function(b){Poll.submitBackToPoll(a),b.stopPropagation()}),Images.setPagePhotoButtons($(c).parent())}else Overlay.createErrorWindow(b)}),event.preventDefault()},submitViewPollResults:function(a){$.post("/forms/poll.php","wedding="+$("body").attr("data-wedding")+"&poll="+a,function(b){if(0==b.indexOf("<section")){var c=$.parseHTML(b);$(".pageSection[data-pollid="+a+"]").replaceWith(c),$(".pageSection[data-pollid="+a+"]").show(),"undefined"!=typeof PollCP&&null!==PollCP&&(SectionCP.setSectionActiveIcon(c),PollCP.stopInputPropagation()),$(".pageSection[data-pollid="+a+"]").find(".pollBackButton").click(function(b){Poll.submitBackToPoll(a),b.stopPropagation()}),Images.setPagePhotoButtons($(c).parent())}else Overlay.createErrorWindow(b)}),event.preventDefault()}},Screen={blockUI:function(){$("#uiBlock").show()},unblockUI:function(){$("#uiBlock").hide()}};$(function(){$("#visitorPassButton").click(Visitor.submitVisitorPassword)});var Visitor={submitVisitorPassword:function(a){var b=$(a.target).closest(".window");$.post("/forms/visitorPassword.php",{visitorPassword:$(b).find('input[name="pass"]').val(),visitorPasswordDomain:$(b).find('input[name="passDomain"]').val()},function(a){"success"==a?($(".loaderBlock").show(),location.reload(!0)):($(b).find('input[name="pass"]').val(""),Overlay.createErrorWindow(a))}),a.preventDefault()}};$(function(){$("#correspondenceCard").click(Zoom.setZoomWithCorrespondence),$(".pageContent").click(Zoom.decideIfZoomIncludesPageContent),$(".photo").click(Zoom.decideIfZoomIncludesPageContent)});var Zoom={createZoom:function(a,b){var c=$('<div class="zoom"></div>'),d=$('<div class="zoomOptions weddingColorBackgroundFaded"><h3 class="zoomTitle">'+b+"</h3></div>"),e=$('<button class="roundButton closeZoomButton"><i class="icon fa fa-times"></i></button>');$(e).click(function(){$(c).remove()}),$(d).append(e),$(c).append(d);var f=$('<div class="zoomContent"></div>');$(f).append(a),$(c).append(f),$("body").append(c),HashTag.setHashTag("zoom",""),$(c).on("remove",function(){HashTag.removeHashTag("zoom")})},decideIfZoomIncludesPageContent:function(a){$(a.currentTarget).hasClass("photo")?(Images.stopVideos(),Zoom.createZoom(Zoom.setZoomedImagesAsContent($(a.currentTarget).parent().find(".photo")),Zoom.setZoomTitle(a)),Zoom.setZoomedImages($(a.currentTarget).parent().find(".photo"))):!($(window).width()<zoomX||$(window).height()<zoomY)||$(a.currentTarget).closest(".rightPageBase").hasClass("pageTypeGallery")||Tools.isCP()||(Images.stopVideos(),Zoom.createZoom(Zoom.setZoomWithPageContent(a),Zoom.setZoomTitle(a)))},setZoomedImages:function(a){Images.setPhotoOrVideo(a),$(".zoomPhotoFrame").draggable({axis:"x",distance:0,revert:!0,revertDuration:0,start:function(a){Images.previousMouseX=a.pageX},stop:function(b){var c=b.pageX;Math.abs(c-Images.previousMouseX)<20&&(b.pageY/$(window).height()<.8||b.pageX/$(window).width()<.8)?$(this).closest(".zoom").remove():c>Images.previousMouseX?Images.goToPhoto($(a).siblings(".previousPhotoButton")):c<Images.previousMouseX&&Images.goToPhoto($(a).siblings(".nextPhotoButton"))}})},setZoomedImagesAsContent:function(a){var b=$("<div></div>"),c=$('<div class="zoomPhotoFrame"><div class="zoomPhoto"></div></div>');$(b).append(c);var d=$('<button class="roundButton previousPhotoButton"><i class="icon fa fa-arrow-left" title="previous image"></i></button>');$(d).click(function(b){Images.goToPhoto($(a).siblings(".previousPhotoButton")),b.stopPropagation()}),$(b).append(d);var e=$('<button class="roundButton nextPhotoButton"><i class="icon fa fa-arrow-right" title="next image"></i></button>');return $(e).click(function(b){Images.goToPhoto($(a).siblings(".nextPhotoButton")),b.stopPropagation()}),$(b).append(e),b},setZoomedMap:function(a){var b=new google.maps.Geocoder,c=$(".zoomPhotoFrame")[0],d=$(a).closest(".pageSection").find(".mapAddress").text()+" "+$(a).closest(".pageSection").find(".mapCity").text();b.geocode({address:d},function(a,b){if(b==google.maps.GeocoderStatus.OK){var e=(a[0].geometry.location.toString(),{zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP}),f=new google.maps.Map(c,e);f.setCenter(a[0].geometry.location);var g=new google.maps.Marker({map:f,position:a[0].geometry.location,title:d});google.maps.event.addListener(g,"click",function(){window.open("http://maps.google.com/?q="+d,"_blank")})}else alert("The map requested could not be loaded. Error code: "+b)})},setZoomTitle:function(a){if($(a.currentTarget).hasClass("photo"))var b=$(a.currentTarget).closest(".leftPageBase"),c=$(b).attr("data-pagenumber"),d=$('.rightPageBase[data-pagenumber="'+c+'"]');else var d=$(a.currentTarget).closest(".rightPageBase"),c=$(d).attr("data-pagenumber"),b=$('.leftPageBase[data-pagenumber="'+c+'"]');var e="";return e=$(d).hasClass("pageTypeIndex")?$(b).find(".topHeading").text():$(d).hasClass("pageTypeGallery")?$(d).find("#galleryDropdown option:selected").text():$(d).hasClass("pageTypeGuestBook")?$(d).find(".pageHeading").text():$(a.currentTarget).hasClass("photo")&&""!=$(b).find(".photo").attr("data-sectiontitle")?$(b).find(".photo").attr("data-sectiontitle"):$(d).find(".pageTitle").find("span").text()},setZoomWithCorrespondence:function(a){if($(window).width()<zoomX||$(window).height()<zoomY){var b=$(a.target).closest("#correspondenceCard").find("#correspondenceContent").clone();$(b).click(function(){$(this).closest(".zoom").remove()}),$(b).find("span").each(function(){if(null!=$(this).css("font-size")&&""!=$(this).css("font-size")){if($(this).css("font-size").indexOf("rem")>=0){var a=$(this).css("font-size").replace("rem","");a=2*a+"rem"}else var a="2.4rem";$(this).css({"font-size":a})}}),$(b).find("#correspondenceRSVPButton").click(Guests.goToGuestFromCorrespondence),Zoom.createZoom(b,"")}},setZoomWithPageContent:function(a){var b=$(a.target).closest(".page"),c=$(b).attr("data-pagenumber"),d=$('.leftPageBase[data-pagenumber="'+c+'"]'),e=$(b).find(".pageContent").clone();return $(e).click(function(){$(this).closest(".zoom").remove()}),$(e).find("span").each(function(){if(null!=$(this).css("font-size")&&""!=$(this).css("font-size")){if($(this).css("font-size").indexOf("rem")>=0){var a=$(this).css("font-size").replace("rem","");a=3*a+"rem"}else var a="3.2rem";$(this).css({"font-size":a})}}),$(e).find(".photosButton").click(function(a){Images.goToPhotoAlbum(this,c),Zoom.createZoom(Zoom.setZoomedImagesAsContent($(d).find(".photo")),$(d).find(".photo").attr("data-sectiontitle")),Zoom.setZoomedImages($(d).find(".photo")),a.stopPropagation()}),$(e).find(".mapButton").click(function(a){Images.goToMap(this,c),Zoom.createZoom($('<div class="zoomPhotoFrame"></div>'),$(d).find(".photo").attr("data-sectiontitle")),Zoom.setZoomedMap(this),a.stopPropagation()}),$(e).find(".indexChapter").click(function(){var b=$(this).index()-$(this).prevAll("h2").length+1;$(this).is("h2")&&$(this).is(":last-child")&&$(this).prev().is("h2")&&b++,Page.turnToPage(b),$(".zoom").remove(),a.stopPropagation()}),$(e).find(".indexPageTitle").click(function(){var b=$(this).index()-$(this).prevAll("h2").length+1;Page.turnToPage(b),$(".zoom").remove(),a.stopPropagation()}),$(e).find(".rsvpButton").click(function(a){Guests.goToFindGuest($(a.target).attr("data-event")),a.stopPropagation()}),$(e).find(".pollSubmitButton").click(function(a){Poll.submitPoll($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid"),$(a.target).closest(".pageSection[data-pollid]").find("input[name=poll]:checked").val()),a.stopPropagation()}),$(e).find(".pollResultsButton").click(function(a){Poll.submitViewPollResults($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid")),a.stopPropagation()}),$(e).find(".pollBackButton").click(function(a){Poll.submitBackToPoll($(a.target).closest(".pageSection[data-pollid]").attr("data-pollid")),a.stopPropagation()}),$(e).find(".pollRadioButton").click(function(a){a.stopPropagation()}),e}};!function(a){function b(a,b){return a.currentStyle&&a.currentStyle[b]||a.style[b]}function c(c){var d=a(c).css("clip")||"";if(!d){var e={top:b(c,"clipTop"),right:b(c,"clipRight"),bottom:b(c,"clipBottom"),left:b(c,"clipLeft")};e.top&&e.right&&e.bottom&&e.left&&(d="rect("+e.top+" "+e.right+" "+e.bottom+" "+e.left+")")}return d.replace(/,/g," ")}a.fx.step.clip=function(a){if(0===a.pos){var b=/rect\(([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)\)/;a.start=b.exec(c(a.elem)),"string"==typeof a.end&&(a.end=b.exec(a.end.replace(/,/g," ")))}if(a.start&&a.end){for(var d=new Array,e=new Array,f=a.start.length,g=a.end.length,h="em"==a.start[i+1]?1.333*parseInt($(a.elem).css("fontSize"))*parseInt(a.start[i]):1,i=1;f>i;i+=2)d.push(parseInt(h*a.start[i]));for(var j=1;g>j;j+=2)e.push(parseInt(h*a.end[j]));a.elem.style.clip="rect("+parseInt(a.pos*(e[0]-d[0])+d[0])+"px "+parseInt(a.pos*(e[1]-d[1])+d[1])+"px "+parseInt(a.pos*(e[2]-d[2])+d[2])+"px "+parseInt(a.pos*(e[3]-d[3])+d[3])+"px)"}}}(jQuery),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)},d._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),f.call(b)}}}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=a.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue?!0:c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(b){var c=!1,d=function(){c&&h.unbind(p,d),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof b&&b()};q>0&&p&&a.transit.useTransitionEnd?(c=!0,h.bind(p,d)):window.setTimeout(d,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(l)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a}),function(a){"use strict";function b(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return a&&a===a.window},c.type=function(a){return a?"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a:a+""},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(a.hasOwnProperty(f)&&(e=c.apply(a[f],d),e===!1))break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(a.hasOwnProperty(f)&&(e=c.call(a[f],f,a[f]),e===!1))break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var h=a[c.expando]||(a[c.expando]=++c.uuid);return d[h]=d[h]||{},d[h][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&(b?c.each(b,function(a,b){delete f[b]}):delete d[e])},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(f=arguments[i])for(e in f)f.hasOwnProperty(e)&&(a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d)));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(a){for(var b=a.offsetParent;b&&"html"!==b.nodeName.toLowerCase()&&b.style&&"static"===b.style.position.toLowerCase();)b=b.offsetParent;return b||document}var b=this[0],d=a(b),e=this.offset(),f=/^(?:body|html)$/i.test(d.nodeName)?{top:0,left:0}:c(d).offset();return e.top-=parseFloat(b.style.marginTop)||0,e.left-=parseFloat(b.style.marginLeft)||0,d.style&&(f.top+=parseFloat(d.style.borderTopWidth)||0,f.left+=parseFloat(d.style.borderLeftWidth)||0),{top:e.top-f.top,left:e.left-f.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){"use strict";return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return u.isWrapped(a)?a=s.call(a):u.isNode(a)&&(a=[a]),a}function g(a){var b=o.data(a,"velocity");return null===b?d:b}function h(a,b){var c=g(a);c&&c.delayTimer&&!c.delayPaused&&(c.delayRemaining=c.delay-b+c.delayBegin,c.delayPaused=!0,clearTimeout(c.delayTimer.setTimeout))}function i(a){var b=g(a);b&&b.delayTimer&&b.delayPaused&&(b.delayPaused=!1,b.delayTimer.setTimeout=setTimeout(b.delayTimer.next,b.delayRemaining))}function j(a){return function(b){return Math.round(b*a)*(1/a)}}function k(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!==f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0===i?h:m(b,c,c+u)}function o(){y=!0,(a!==c||d!==e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function l(a,b){var c=a;return u.isString(a)?y.Easings[a]||(c=!1):c=u.isArray(a)&&1===a.length?j.apply(null,a):u.isArray(a)&&2===a.length?z.apply(null,a.concat([b])):u.isArray(a)&&4===a.length?k.apply(null,a):!1,c===!1&&(c=y.Easings[y.defaults.easing]?y.defaults.easing:x),c}function m(a){if(a){var b=y.timestamp&&a!==!0?a:r.now(),c=y.State.calls.length;c>1e4&&(y.State.calls=e(y.State.calls),c=y.State.calls.length);for(var f=0;c>f;f++)if(y.State.calls[f]){var h=y.State.calls[f],i=h[0],j=h[2],k=h[3],l=!k,q=null,s=h[5],t=h[6];if(k||(k=y.State.calls[f][3]=b-16),s){if(s.resume!==!0)continue;k=h[3]=Math.round(b-t-16),h[5]=null}t=h[6]=b-k;for(var v=Math.min(t/j.duration,1),w=0,x=i.length;x>w;w++){var z=i[w],B=z.element;if(g(B)){var D=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];o.each(E,function(a,b){A.setPropertyValue(B,"display",b)})}A.setPropertyValue(B,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&A.setPropertyValue(B,"visibility",j.visibility);for(var F in z)if(z.hasOwnProperty(F)&&"element"!==F){var G,H=z[F],I=u.isString(H.easing)?y.Easings[H.easing]:H.easing;if(u.isString(H.pattern)){var J=1===v?function(a,b,c){var d=H.endValue[b];return c?Math.round(d):d}:function(a,b,c){var d=H.startValue[b],e=H.endValue[b]-d,f=d+e*I(v,j,e);return c?Math.round(f):f};G=H.pattern.replace(/{(\d+)(!)?}/g,J)}else if(1===v)G=H.endValue;else{var K=H.endValue-H.startValue;G=H.startValue+K*I(v,j,K)}if(!l&&G===H.currentValue)continue;if(H.currentValue=G,"tween"===F)q=G;else{var L;if(A.Hooks.registered[F]){L=A.Hooks.getRoot(F);var M=g(B).rootPropertyValueCache[L];M&&(H.rootPropertyValue=M)}var N=A.setPropertyValue(B,F,H.currentValue+(9>p&&0===parseFloat(G)?"":H.unitType),H.rootPropertyValue,H.scrollData);A.Hooks.registered[F]&&(g(B).rootPropertyValueCache[L]=A.Normalizations.registered[L]?A.Normalizations.registered[L]("extract",null,N[1]):N[1]),"transform"===N[0]&&(D=!0)}}j.mobileHA&&g(B).transformCache.translate3d===d&&(g(B).transformCache.translate3d="(0px, 0px, 0px)",D=!0),D&&A.flushTransformCache(B)}}j.display!==d&&"none"!==j.display&&(y.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(y.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],v,Math.max(0,k+j.duration-b),k,q),1===v&&n(f)}}y.State.isTicking&&C(m)}function n(a,b){if(!y.State.calls[a])return!1;for(var c=y.State.calls[a][0],e=y.State.calls[a][1],f=y.State.calls[a][2],h=y.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;b||f.loop||("none"===f.display&&A.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&A.setPropertyValue(l,"visibility",f.visibility));var m=g(l);if(f.loop!==!0&&(o.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(o.queue(l)[1]))&&m){m.isAnimating=!1,m.rootPropertyValueCache={};var n=!1;o.each(A.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=m.transformCache[b];m.transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(n=!0,delete m.transformCache[b])}),f.mobileHA&&(n=!0,delete m.transformCache.translate3d),n&&A.flushTransformCache(l),A.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(p){setTimeout(function(){throw p},1)}h&&f.loop!==!0&&h(e),m&&f.loop===!0&&!b&&(o.each(m.tweensContainer,function(a,b){if(/^rotate/.test(a)&&(parseFloat(b.startValue)-parseFloat(b.endValue))%360===0){var c=b.startValue;b.startValue=b.endValue,b.endValue=c}/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),y(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&o.dequeue(l,f.queue)}y.State.calls[a]=!1;for(var q=0,r=y.State.calls.length;r>q;q++)if(y.State.calls[q]!==!1){i=!0;break}i===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var o,p=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),q=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),r=function(){var a=b.performance||{};if("function"!=typeof a.now){var c=a.timing&&a.timing.navigationStart?a.timing.navigationStart:(new Date).getTime();a.now=function(){return(new Date).getTime()-c}}return a}(),s=function(){var a=Array.prototype.slice;try{return a.call(c.documentElement),a}catch(b){return function(b,c){var d=this.length;if("number"!=typeof b&&(b=0),"number"!=typeof c&&(c=d),this.slice)return a.call(this,b,c);var e,f=[],g=b>=0?b:Math.max(0,d+b),h=0>c?d+c:Math.min(c,d),i=h-g;if(i>0)if(f=new Array(i),this.charAt)for(e=0;i>e;e++)f[e]=this.charAt(g+e);else for(e=0;i>e;e++)f[e]=this[g+e];return f}}}(),t=function(){return Array.prototype.includes?function(a,b){return a.includes(b)}:Array.prototype.indexOf?function(a,b){return a.indexOf(b)>=0}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1}},u={isNumber:function(a){return"number"==typeof a},isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isWrapped:function(a){return a&&a!==b&&u.isNumber(a.length)&&!u.isString(a)&&!u.isFunction(a)&&!u.isNode(a)&&(0===a.length||u.isNode(a[0]))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}},v=!1;if(a.fn&&a.fn.jquery?(o=a,v=!0):o=b.Velocity.Utilities,8>=p&&!v)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=p)return void(jQuery.fn.velocity=jQuery.fn.animate);var w=400,x="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(b.navigator.userAgent),isAndroid:/Android/i.test(b.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(b.navigator.userAgent),
isChrome:b.chrome,isFirefox:/Firefox/i.test(b.navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:o,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:w,easing:x,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(a){o.data(a,"velocity",{isSVG:u.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:1},debug:!1,timestamp:!0,pauseAll:function(a){var b=(new Date).getTime();o.each(y.State.calls,function(b,c){if(c){if(a!==d&&(c[2].queue!==a||c[2].queue===!1))return!0;c[5]={resume:!1}}}),o.each(y.State.delayedElements,function(a,c){c&&h(c,b)})},resumeAll:function(a){var b=(new Date).getTime();o.each(y.State.calls,function(b,c){if(c){if(a!==d&&(c[2].queue!==a||c[2].queue===!1))return!0;c[5]&&(c[5].resume=!0)}}),o.each(y.State.delayedElements,function(a,c){c&&i(c,b)})}};b.pageYOffset!==d?(y.State.scrollAnchor=b,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var z=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();y.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},o.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){y.Easings[b[0]]=k.apply(null,b[1])});var A=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<A.Lists.colors.length;a++){var b="color"===A.Lists.colors[a]?"0 0 0 1":"255 255 255 1";A.Hooks.templates[A.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(p)for(c in A.Hooks.templates)if(A.Hooks.templates.hasOwnProperty(c)){d=A.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(A.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),A.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in A.Hooks.templates)if(A.Hooks.templates.hasOwnProperty(c)){d=A.Hooks.templates[c],e=d[0].split(" ");for(var g in e)if(e.hasOwnProperty(g)){var h=c+e[g],i=g;A.Hooks.registered[h]=[c,i]}}},getRoot:function(a){var b=A.Hooks.registered[a];return b?b[0]:a},getUnit:function(a,b){var c=(a.substr(b||0,5).match(/^[a-z%]+/)||[])[0]||"";return c&&t(A.Lists.units,c)?c:""},fixColors:function(a){return a.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(a,b,c){return A.Lists.colorNames.hasOwnProperty(c)?(b?b:"rgba(")+A.Lists.colorNames[c]+(b?"":",1)"):b+c})},cleanRootPropertyValue:function(a,b){return A.RegEx.valueUnwrap.test(b)&&(b=b.match(A.RegEx.valueUnwrap)[1]),A.Values.isCSSNullValue(b)&&(b=A.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=A.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=A.Hooks.cleanRootPropertyValue(d,b),b.toString().match(A.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=A.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=A.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(A.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return A.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(A.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=p)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){function a(a,b,c){var d="border-box"===A.getPropertyValue(b,"boxSizing").toString().toLowerCase();if(d===(c||!1)){var e,f,g=0,h="width"===a?["Left","Right"]:["Top","Bottom"],i=["padding"+h[0],"padding"+h[1],"border"+h[0]+"Width","border"+h[1]+"Width"];for(e=0;e<i.length;e++)f=parseFloat(A.getPropertyValue(b,i[e])),isNaN(f)||(g+=f);return c?-g:g}return 0}function b(b,c){return function(d,e,f){switch(d){case"name":return b;case"extract":return parseFloat(f)+a(b,e,c);case"inject":return parseFloat(f)-a(b,e,c)+"px"}}}p&&!(p>9)||y.State.isGingerbread||(A.Lists.transformsBase=A.Lists.transformsBase.concat(A.Lists.transforms3D));for(var c=0;c<A.Lists.transformsBase.length;c++)!function(){var a=A.Lists.transformsBase[c];A.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[a]===d?/^scale/i.test(a)?1:0:g(c).transformCache[a].replace(/[()]/g,"");case"inject":var f=!1;switch(a.substr(0,a.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":y.State.isAndroid&&g(c).transformCache[a]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[a]="("+e+")"),g(c).transformCache[a]}}}();for(var e=0;e<A.Lists.colors.length;e++)!function(){var a=A.Lists.colors[e];A.Normalizations.registered[a]=function(b,c,e){switch(b){case"name":return a;case"extract":var f;if(A.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:A.RegEx.isHex.test(e)?g="rgb("+A.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(A.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!p||p>8)&&3===f.split(" ").length&&(f+=" 1"),f;case"inject":return/^rgb/.test(e)?e:(8>=p?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=p?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();A.Normalizations.registered.innerWidth=b("width",!0),A.Normalizations.registered.innerHeight=b("height",!0),A.Normalizations.registered.outerWidth=b("width"),A.Normalizations.registered.outerHeight=b("height")}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||y.State.isAndroid&&!y.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(y.State.prefixMatches[a])return[y.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),u.isString(y.State.prefixElement.style[e]))return y.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return!a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){if(a)if(a.classList)a.classList.add(b);else if(u.isString(a.className))a.className+=(a.className.length?" ":"")+b;else{var c=a.getAttribute(7>=p?"className":"class")||"";a.setAttribute("class",c+(c?" ":"")+b)}},removeClass:function(a,b){if(a)if(a.classList)a.classList.remove(b);else if(u.isString(a.className))a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ");else{var c=a.getAttribute(7>=p?"className":"class")||"";a.setAttribute("class",c.replace(new RegExp("(^|s)"+b.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(a,c,e,f){function h(a,c){var e=0;if(8>=p)e=o.css(a,c);else{var i=!1;/^(width|height)$/.test(c)&&0===A.getPropertyValue(a,"display")&&(i=!0,A.setPropertyValue(a,"display",A.Values.getDisplayType(a)));var j=function(){i&&A.setPropertyValue(a,"display","none")};if(!f){if("height"===c&&"border-box"!==A.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(A.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(A.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(A.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(A.getPropertyValue(a,"paddingBottom"))||0);return j(),k}if("width"===c&&"border-box"!==A.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(A.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(A.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(A.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(A.getPropertyValue(a,"paddingRight"))||0);return j(),l}}var m;m=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),e=9===p&&"filter"===c?m.getPropertyValue(c):m[c],(""===e||null===e)&&(e=a.style[c]),j()}if("auto"===e&&/^(top|right|bottom|left)$/i.test(c)){var n=h(a,"position");("fixed"===n||"absolute"===n&&/top|left/i.test(c))&&(e=o(a).position()[c]+"px")}return e}var i;if(A.Hooks.registered[c]){var j=c,k=A.Hooks.getRoot(j);e===d&&(e=A.getPropertyValue(a,A.Names.prefixCheck(k)[0])),A.Normalizations.registered[k]&&(e=A.Normalizations.registered[k]("extract",a,e)),i=A.Hooks.extractValue(j,e)}else if(A.Normalizations.registered[c]){var l,m;l=A.Normalizations.registered[c]("name",a),"transform"!==l&&(m=h(a,A.Names.prefixCheck(l)[0]),A.Values.isCSSNullValue(m)&&A.Hooks.templates[c]&&(m=A.Hooks.templates[c][1])),i=A.Normalizations.registered[c]("extract",a,m)}if(!/^[\d-]/.test(i)){var n=g(a);if(n&&n.isSVG&&A.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(q){i=0}else i=a.getAttribute(c);else i=h(a,A.Names.prefixCheck(c)[0])}return A.Values.isCSSNullValue(i)&&(i=0),y.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(A.Normalizations.registered[c]&&"transform"===A.Normalizations.registered[c]("name",a))A.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(A.Hooks.registered[c]){var i=c,j=A.Hooks.getRoot(c);e=e||A.getPropertyValue(a,j),d=A.Hooks.injectValue(i,d,e),c=j}if(A.Normalizations.registered[c]&&(d=A.Normalizations.registered[c]("inject",a,d),c=A.Normalizations.registered[c]("name",a)),h=A.Names.prefixCheck(c)[0],8>=p)try{a.style[h]=d}catch(k){y.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else{var l=g(a);l&&l.isSVG&&A.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d}y.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){var b="",c=g(a);if((p||y.State.isAndroid&&!y.State.isChrome)&&c&&c.isSVG){var d=function(b){return parseFloat(A.getPropertyValue(a,b))},e={translate:[d("translateX"),d("translateY")],skewX:[d("skewX")],skewY:[d("skewY")],scale:1!==d("scale")?[d("scale"),d("scale")]:[d("scaleX"),d("scaleY")],rotate:[d("rotateZ"),0,0]};o.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),e[a]&&(b+=a+"("+e[a].join(" ")+") ",delete e[a])})}else{var f,h;o.each(g(a).transformCache,function(c){return f=g(a).transformCache[c],"transformPerspective"===c?(h=f,!0):(9===p&&"rotateZ"===c&&(c="rotate"),void(b+=c+f+" "))}),h&&(b="perspective"+h+" "+b)}A.setPropertyValue(a,"transform",b)}};A.Hooks.register(),A.Normalizations.register(),y.hook=function(a,b,c){var e;return a=f(a),o.each(a,function(a,f){if(g(f)===d&&y.init(f),c===d)e===d&&(e=A.getPropertyValue(f,b));else{var h=A.setPropertyValue(f,b,c);"transform"===h[0]&&y.CSS.flushTransformCache(f),e=h}}),e};var B=function(){function a(){return k?z.promise||null:p}function e(a,e){function f(){var f,k;if(i.begin&&0===D)try{i.begin.call(r,r)}catch(n){setTimeout(function(){throw n},1)}if("scroll"===G){var p,q,w,x=/^x$/i.test(i.axis)?"Left":"Top",B=parseFloat(i.offset)||0;i.container?u.isWrapped(i.container)||u.isNode(i.container)?(i.container=i.container[0]||i.container,p=i.container["scroll"+x],w=p+o(a).position()[x.toLowerCase()]+B):i.container=null:(p=y.State.scrollAnchor[y.State["scrollProperty"+x]],q=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===x?"Top":"Left")]],w=o(a).offset()[x.toLowerCase()]+B),j={scroll:{rootPropertyValue:!1,startValue:p,currentValue:p,endValue:w,unitType:"",easing:i.easing,scrollData:{container:i.container,direction:x,alternateValue:q}},element:a},y.debug&&console.log("tweensContainer (scroll): ",j.scroll,a)}else if("reverse"===G){if(f=g(a),!f)return;if(!f.tweensContainer)return void o.dequeue(a,i.queue);"none"===f.opts.display&&(f.opts.display="auto"),"hidden"===f.opts.visibility&&(f.opts.visibility="visible"),f.opts.loop=!1,f.opts.begin=null,f.opts.complete=null,v.easing||delete i.easing,v.duration||delete i.duration,i=o.extend({},f.opts,i),k=o.extend(!0,{},f?f.tweensContainer:null);for(var E in k)if(k.hasOwnProperty(E)&&"element"!==E){var F=k[E].startValue;k[E].startValue=k[E].currentValue=k[E].endValue,k[E].endValue=F,u.isEmptyObject(v)||(k[E].easing=i.easing),y.debug&&console.log("reverse tweensContainer ("+E+"): "+JSON.stringify(k[E]),a)}j=k}else if("start"===G){f=g(a),f&&f.tweensContainer&&f.isAnimating===!0&&(k=f.tweensContainer);var H=function(b,c){var d,f,g;return u.isFunction(b)&&(b=b.call(a,e,C)),u.isArray(b)?(d=b[0],!u.isArray(b[1])&&/^[\d-]/.test(b[1])||u.isFunction(b[1])||A.RegEx.isHex.test(b[1])?g=b[1]:u.isString(b[1])&&!A.RegEx.isHex.test(b[1])&&y.Easings[b[1]]||u.isArray(b[1])?(f=c?b[1]:l(b[1],i.duration),g=b[2]):g=b[1]||b[2]):d=b,c||(f=f||i.easing),u.isFunction(d)&&(d=d.call(a,e,C)),u.isFunction(g)&&(g=g.call(a,e,C)),[d||0,f,g]},I=function(e,g){var l,m=A.Hooks.getRoot(e),n=!1,p=g[0],q=g[1],r=g[2];if(!(f&&f.isSVG||"tween"===m||A.Names.prefixCheck(m)[1]!==!1||A.Normalizations.registered[m]!==d))return void(y.debug&&console.log("Skipping ["+m+"] due to a lack of browser support."));(i.display!==d&&null!==i.display&&"none"!==i.display||i.visibility!==d&&"hidden"!==i.visibility)&&/opacity|filter/.test(e)&&!r&&0!==p&&(r=0),i._cacheValues&&k&&k[e]?(r===d&&(r=k[e].endValue+k[e].unitType),n=f.rootPropertyValueCache[m]):A.Hooks.registered[e]?r===d?(n=A.getPropertyValue(a,m),r=A.getPropertyValue(a,e,n)):n=A.Hooks.templates[m][1]:r===d&&(r=A.getPropertyValue(a,e));var s,t,v,w=!1,x=function(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=A.Values.getUnitType(a)),[d,c]};if(r!==p&&u.isString(r)&&u.isString(p)){l="";var z=0,B=0,C=[],D=[],E=0,F=0,G=0;for(r=A.Hooks.fixColors(r),p=A.Hooks.fixColors(p);z<r.length&&B<p.length;){var H=r[z],I=p[B];if(/[\d\.-]/.test(H)&&/[\d\.-]/.test(I)){for(var J=H,K=I,L=".",N=".";++z<r.length;){if(H=r[z],H===L)L="..";else if(!/\d/.test(H))break;J+=H}for(;++B<p.length;){if(I=p[B],I===N)N="..";else if(!/\d/.test(I))break;K+=I}var O=A.Hooks.getUnit(r,z),P=A.Hooks.getUnit(p,B);if(z+=O.length,B+=P.length,O===P)J===K?l+=J+O:(l+="{"+C.length+(F?"!":"")+"}"+O,C.push(parseFloat(J)),D.push(parseFloat(K)));else{var Q=parseFloat(J),R=parseFloat(K);l+=(5>E?"calc":"")+"("+(Q?"{"+C.length+(F?"!":"")+"}":"0")+O+" + "+(R?"{"+(C.length+(Q?1:0))+(F?"!":"")+"}":"0")+P+")",Q&&(C.push(Q),D.push(0)),R&&(C.push(0),D.push(R))}}else{if(H!==I){E=0;break}l+=H,z++,B++,0===E&&"c"===H||1===E&&"a"===H||2===E&&"l"===H||3===E&&"c"===H||E>=4&&"("===H?E++:(E&&5>E||E>=4&&")"===H&&--E<5)&&(E=0),0===F&&"r"===H||1===F&&"g"===H||2===F&&"b"===H||3===F&&"a"===H||F>=3&&"("===H?(3===F&&"a"===H&&(G=1),F++):G&&","===H?++G>3&&(F=G=0):(G&&(G?5:4)>F||F>=(G?4:3)&&")"===H&&--F<(G?5:4))&&(F=G=0)}}(z!==r.length||B!==p.length)&&(y.debug&&console.error('Trying to pattern match mis-matched strings ["'+p+'", "'+r+'"]'),l=d),l&&(C.length?(y.debug&&console.log('Pattern found "'+l+'" -> ',C,D,"["+r+","+p+"]"),r=C,p=D,t=v=""):l=d)}l||(s=x(e,r),r=s[0],v=s[1],s=x(e,p),p=s[0].replace(/^([+-\/*])=/,function(a,b){return w=b,""}),t=s[1],r=parseFloat(r)||0,p=parseFloat(p)||0,"%"===t&&(/^(fontSize|lineHeight)$/.test(e)?(p/=100,t="em"):/^scale/.test(e)?(p/=100,t=""):/(Red|Green|Blue)$/i.test(e)&&(p=p/100*255,t="")));var S=function(){var d={myParent:a.parentNode||c.body,position:A.getPropertyValue(a,"position"),fontSize:A.getPropertyValue(a,"fontSize")},e=d.position===M.lastPosition&&d.myParent===M.lastParent,g=d.fontSize===M.lastFontSize;M.lastParent=d.myParent,M.lastPosition=d.position,M.lastFontSize=d.fontSize;var h=100,i={};if(g&&e)i.emToPx=M.lastEmToPx,i.percentToPxWidth=M.lastPercentToPxWidth,i.percentToPxHeight=M.lastPercentToPxHeight;else{var j=f&&f.isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");y.init(j),d.myParent.appendChild(j),o.each(["overflow","overflowX","overflowY"],function(a,b){y.CSS.setPropertyValue(j,b,"hidden")}),y.CSS.setPropertyValue(j,"position",d.position),y.CSS.setPropertyValue(j,"fontSize",d.fontSize),y.CSS.setPropertyValue(j,"boxSizing","content-box"),o.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){y.CSS.setPropertyValue(j,b,h+"%")}),y.CSS.setPropertyValue(j,"paddingLeft",h+"em"),i.percentToPxWidth=M.lastPercentToPxWidth=(parseFloat(A.getPropertyValue(j,"width",null,!0))||1)/h,i.percentToPxHeight=M.lastPercentToPxHeight=(parseFloat(A.getPropertyValue(j,"height",null,!0))||1)/h,i.emToPx=M.lastEmToPx=(parseFloat(A.getPropertyValue(j,"paddingLeft"))||1)/h,d.myParent.removeChild(j)}return null===M.remToPx&&(M.remToPx=parseFloat(A.getPropertyValue(c.body,"fontSize"))||16),null===M.vwToPx&&(M.vwToPx=parseFloat(b.innerWidth)/100,M.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=M.remToPx,i.vwToPx=M.vwToPx,i.vhToPx=M.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),a),i};if(/[\/*]/.test(w))t=v;else if(v!==t&&0!==r)if(0===p)t=v;else{h=h||S();var T=/margin|padding|left|right|width|text|word|letter/i.test(e)||/X$/.test(e)||"x"===e?"x":"y";switch(v){case"%":r*="x"===T?h.percentToPxWidth:h.percentToPxHeight;break;case"px":break;default:r*=h[v+"ToPx"]}switch(t){case"%":r*=1/("x"===T?h.percentToPxWidth:h.percentToPxHeight);break;case"px":break;default:r*=1/h[t+"ToPx"]}}switch(w){case"+":p=r+p;break;case"-":p=r-p;break;case"*":p=r*p;break;case"/":p=r/p}j[e]={rootPropertyValue:n,startValue:r,currentValue:r,endValue:p,unitType:t,easing:q},l&&(j[e].pattern=l),y.debug&&console.log("tweensContainer ("+e+"): "+JSON.stringify(j[e]),a)};for(var J in s)if(s.hasOwnProperty(J)){var K=A.Names.camelCase(J),L=H(s[J]);if(t(A.Lists.colors,K)){var O=L[0],P=L[1],Q=L[2];if(A.RegEx.isHex.test(O)){for(var R=["Red","Green","Blue"],S=A.Values.hexToRgb(O),T=Q?A.Values.hexToRgb(Q):d,U=0;U<R.length;U++){var V=[S[U]];P&&V.push(P),T!==d&&V.push(T[U]),I(K+R[U],V)}continue}}I(K,L)}j.element=a}j.element&&(A.Values.addClass(a,"velocity-animating"),N.push(j),f=g(a),f&&(""===i.queue&&(f.tweensContainer=j,f.opts=i),f.isAnimating=!0),D===C-1?(y.State.calls.push([N,r,i,null,z.resolver,null,0]),y.State.isTicking===!1&&(y.State.isTicking=!0,m())):D++)}var h,i=o.extend({},y.defaults,v),j={};switch(g(a)===d&&y.init(a),parseFloat(i.delay)&&i.queue!==!1&&o.queue(a,i.queue,function(b,c){if(c===!0)return!0;y.velocityQueueEntryFlag=!0;var d=y.State.delayedElements.count++;y.State.delayedElements[d]=a;var e=function(a){return function(){y.State.delayedElements[a]=!1,b()}}(d);g(a).delayBegin=(new Date).getTime(),g(a).delay=parseFloat(i.delay),g(a).delayTimer={setTimeout:setTimeout(b,parseFloat(i.delay)),next:e}}),i.duration.toString().toLowerCase()){case"fast":i.duration=200;break;case"normal":i.duration=w;break;case"slow":i.duration=600;break;default:i.duration=parseFloat(i.duration)||1}if(y.mock!==!1&&(y.mock===!0?i.duration=i.delay=1:(i.duration*=parseFloat(y.mock)||1,i.delay*=parseFloat(y.mock)||1)),i.easing=l(i.easing,i.duration),i.begin&&!u.isFunction(i.begin)&&(i.begin=null),i.progress&&!u.isFunction(i.progress)&&(i.progress=null),i.complete&&!u.isFunction(i.complete)&&(i.complete=null),i.display!==d&&null!==i.display&&(i.display=i.display.toString().toLowerCase(),"auto"===i.display&&(i.display=y.CSS.Values.getDisplayType(a))),i.visibility!==d&&null!==i.visibility&&(i.visibility=i.visibility.toString().toLowerCase()),i.mobileHA=i.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,i.queue===!1)if(i.delay){var k=y.State.delayedElements.count++;y.State.delayedElements[k]=a;var n=function(a){return function(){y.State.delayedElements[a]=!1,f()}}(k);g(a).delayBegin=(new Date).getTime(),g(a).delay=parseFloat(i.delay),g(a).delayTimer={setTimeout:setTimeout(f,parseFloat(i.delay)),next:n}}else f();else o.queue(a,i.queue,function(a,b){return b===!0?(z.promise&&z.resolver(r),!0):(y.velocityQueueEntryFlag=!0,void f(a))});""!==i.queue&&"fx"!==i.queue||"inprogress"===o.queue(a)[0]||o.dequeue(a)}var j,k,p,q,r,s,v,x=arguments[0]&&(arguments[0].p||o.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||u.isString(arguments[0].properties));u.isWrapped(this)?(k=!1,q=0,r=this,p=this):(k=!0,q=1,r=x?arguments[0].elements||arguments[0].e:arguments[0]);var z={promise:null,resolver:null,rejecter:null};if(k&&y.Promise&&(z.promise=new y.Promise(function(a,b){z.resolver=a,z.rejecter=b})),x?(s=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(s=arguments[q],v=arguments[q+1]),r=f(r),!r)return void(z.promise&&(s&&v&&v.promiseRejectEmpty===!1?z.resolver():z.rejecter()));var C=r.length,D=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(s)&&!o.isPlainObject(v)){var E=q+1;v={};for(var F=E;F<arguments.length;F++)u.isArray(arguments[F])||!/^(fast|normal|slow)$/i.test(arguments[F])&&!/^\d/.test(arguments[F])?u.isString(arguments[F])||u.isArray(arguments[F])?v.easing=arguments[F]:u.isFunction(arguments[F])&&(v.complete=arguments[F]):v.duration=arguments[F]}var G;switch(s){case"scroll":G="scroll";break;case"reverse":G="reverse";break;case"pause":var H=(new Date).getTime();return o.each(r,function(a,b){h(b,H)}),o.each(y.State.calls,function(a,b){var c=!1;b&&o.each(b[1],function(a,e){var f=v===d?"":v;return f===!0||b[2].queue===f||v===d&&b[2].queue===!1?(o.each(r,function(a,d){return d===e?(b[5]={resume:!1},c=!0,!1):void 0}),c?!1:void 0):!0})}),a();case"resume":return o.each(r,function(a,b){i(b,H)}),o.each(y.State.calls,function(a,b){var c=!1;b&&o.each(b[1],function(a,e){var f=v===d?"":v;return(f===!0||b[2].queue===f||v===d&&b[2].queue===!1)&&b[5]?(o.each(r,function(a,d){return d===e?(b[5].resume=!0,c=!0,!1):void 0}),c?!1:void 0):!0})}),a();case"finish":case"finishAll":case"stop":o.each(r,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer),"finishAll"!==s||v!==!0&&!u.isString(v)||(o.each(o.queue(b,u.isString(v)?v:""),function(a,b){u.isFunction(b)&&b()}),o.queue(b,u.isString(v)?v:"",[]))});var I=[];return o.each(y.State.calls,function(a,b){b&&o.each(b[1],function(c,e){var f=v===d?"":v;return f===!0||b[2].queue===f||v===d&&b[2].queue===!1?void o.each(r,function(c,d){if(d===e)if((v===!0||u.isString(v))&&(o.each(o.queue(d,u.isString(v)?v:""),function(a,b){u.isFunction(b)&&b(null,!0)}),o.queue(d,u.isString(v)?v:"",[])),"stop"===s){var h=g(d);h&&h.tweensContainer&&f!==!1&&o.each(h.tweensContainer,function(a,b){b.endValue=b.currentValue}),I.push(a)}else("finish"===s||"finishAll"===s)&&(b[2].duration=1)}):!0})}),"stop"===s&&(o.each(I,function(a,b){n(b,!0)}),z.promise&&z.resolver(r)),a();default:if(!o.isPlainObject(s)||u.isEmptyObject(s)){if(u.isString(s)&&y.Redirects[s]){j=o.extend({},v);var J=j.duration,K=j.delay||0;return j.backwards===!0&&(r=o.extend(!0,[],r).reverse()),o.each(r,function(a,b){parseFloat(j.stagger)?j.delay=K+parseFloat(j.stagger)*a:u.isFunction(j.stagger)&&(j.delay=K+j.stagger.call(b,a,C)),j.drag&&(j.duration=parseFloat(J)||(/^(callout|transition)/.test(s)?1e3:w),j.duration=Math.max(j.duration*(j.backwards?1-a/C:(a+1)/C),.75*j.duration,200)),y.Redirects[s].call(b,b,j||{},a,C,r,z.promise?z:d)}),a()}var L="Velocity: First argument ("+s+") was not a property map, a known action, or a registered redirect. Aborting.";return z.promise?z.rejecter(new Error(L)):b.console&&console.log(L),a()}G="start"}var M={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},N=[];o.each(r,function(a,b){u.isNode(b)&&e(b,a)}),j=o.extend({},y.defaults,v),j.loop=parseInt(j.loop,10);var O=2*j.loop-1;if(j.loop)for(var P=0;O>P;P++){var Q={delay:j.delay,progress:j.progress};P===O-1&&(Q.display=j.display,Q.visibility=j.visibility,Q.complete=j.complete),B(r,"reverse",Q)}return a()};y=o.extend(B,y),y.animate=B;var C=b.requestAnimationFrame||q;if(!y.State.isMobile&&c.hidden!==d){var D=function(){c.hidden?(C=function(a){return setTimeout(function(){a(!0)},16)},m()):C=b.requestAnimationFrame||q};D(),c.addEventListener("visibilitychange",D)}return a.Velocity=y,a!==b&&(a.fn.velocity=B,a.fn.velocity.defaults=y.defaults),o.each(["Down","Up"],function(a,b){y.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=o.extend({},c),j=i.begin,k=i.complete,l={},m={height:"",marginTop:"",marginBottom:"",
paddingTop:"",paddingBottom:""};i.display===d&&(i.display="Down"===b?"inline"===y.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){0===e&&j&&j.call(g,g);for(var c in m)if(m.hasOwnProperty(c)){l[c]=a.style[c];var d=A.getPropertyValue(a,c);m[c]="Down"===b?[d,0]:[0,d]}l.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in l)l.hasOwnProperty(b)&&(a.style[b]=l[b]);e===f-1&&(k&&k.call(g,g),h&&h.resolver(g))},y(a,m,i)}}),o.each(["In","Out"],function(a,b){y.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=o.extend({},c),j=i.complete,k={opacity:"In"===b?1:0};0!==e&&(i.begin=null),i.complete=e!==f-1?null:function(){j&&j.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),y(this,k,i)}}),y}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)});